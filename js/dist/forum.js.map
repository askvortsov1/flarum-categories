{"version":3,"sources":["webpack://@askvortsov/flarum-categories/webpack/bootstrap","webpack://@askvortsov/flarum-categories/./forum.js","webpack://@askvortsov/flarum-categories/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@askvortsov/flarum-categories/./src/forum/components/CategoriesPage.js","webpack://@askvortsov/flarum-categories/./src/forum/components/Category.js","webpack://@askvortsov/flarum-categories/./src/forum/components/LastDiscussionWidget.js","webpack://@askvortsov/flarum-categories/./src/forum/components/ModifiedUserCard.js","webpack://@askvortsov/flarum-categories/./src/forum/components/StatWidget.js","webpack://@askvortsov/flarum-categories/./src/forum/index.js","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['Component']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['Model']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/AvatarEditor']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/Dropdown']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/IndexPage']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/LinkButton']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['components/Page']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['extend']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/avatar']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/icon']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/listItems']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['helpers/username']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['tags/components/TagsPage']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['tags/helpers/tagLabel']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['tags/models/Tag']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['tags/utils/sortTags']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['utils/ItemList']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['utils/UserControls']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['utils/humanTime']\"","webpack://@askvortsov/flarum-categories/external \"flarum.core.compat['utils/string']\""],"names":["CategoriesPage","init","Page","prototype","call","tags","sortTags","app","store","all","filter","tag","parent","history","push","translator","trans","extend","IndexPage","items","current","forum","attribute","item","console","log","remove","view","pinned","position","cloud","classes","join","hero","affixSidebar","listItems","sidebarItems","toArray","map","Category","component","length","tagLabel","link","config","args","m","route","setTitle","setTitleCount","TagsPage","props","isChild","children","child","cardStyle","backgroundColor","color","classNames","lastDiscussionClassNames","lastPostedDiscussion","iconItems","mainItems","statItems","lastDiscussionItems","ItemList","icon","style","iconClasses","add","className","name","description","StatWidget","count","discussionCount","label","postCount","LastDiscussionWidget","discussion","Component","cardVisible","user","lastPostedUser","card","ModifiedUserCard","controlsButtonClassName","stopProp","avatar","humanTime","lastPostedAt","username","truncate","title","element","isInitialized","$","on","e","stopPropagation","apply","arguments","timeout","clearTimeout","setTimeout","showCard","bind","hideCard","redraw","addClass","removeClass","joinTime","controls","UserControls","badges","Dropdown","menuClassName","buttonClassName","editable","AvatarEditor","infoItems","lastSeenAt","online","isOnline","ago","initializers","routes","categories","path","Tag","Model","has","LinkButton","href","replace"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","export * from './src/forum';\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import { extend } from 'flarum/extend';\nimport Page from 'flarum/components/Page';\nimport IndexPage from 'flarum/components/IndexPage';\nimport listItems from 'flarum/helpers/listItems';\nimport humanTime from 'flarum/helpers/humanTime';\n\nimport sortTags from 'flarum/tags/utils/sortTags';\nimport tagLabel from 'flarum/tags/helpers/tagLabel';\nimport TagsPage from 'flarum/tags/components/TagsPage';\n\nimport Category from './Category';\n\nexport default class CategoriesPage extends TagsPage {\n  init() {\n    Page.prototype.init.call(this);\n\n    this.tags = sortTags(app.store.all('tags').filter(tag => !tag.parent()));\n\n    app.history.push('categories', app.translator.trans('askvortsov-category.forum.header.back_to_categories_tooltip'));\n\n    extend(IndexPage.prototype, 'sidebarItems', function (items) {\n      if (app.current instanceof CategoriesPage && app.forum.attribute('categories.fullPageDesktop')) {\n        for (const item in items.items) {\n          console.log(item)\n          if (item != 'newDiscussion' && item != 'nav') {\n            items.remove(item);\n          }\n        }\n      }\n      return items;\n    });\n  }\n\n  view() {\n    const pinned = this.tags.filter(tag => tag.position() !== null);\n    const cloud = this.tags.filter(tag => tag.position() === null);\n\n    const classes = app.forum.attribute('categories.fullPageDesktop') ? ['CategoriesPage', 'TagsPage'] : ['CategoriesPage'];\n\n    return (\n      <div className={classes.join(' ')}>\n        {IndexPage.prototype.hero()}\n        <div className=\"container\">\n          <div className={app.forum.attribute('categories.fullPageDesktop') ? '' : 'sideNavContainer'}>\n            <nav className=\"CategoriesPage-nav TagsPage-nav IndexPage-nav sideNav\" config={IndexPage.prototype.affixSidebar}>\n              <ul>{listItems(IndexPage.prototype.sidebarItems().toArray())}</ul>\n            </nav>\n\n            <div className=\"CategoriesPage-content sideNavOffset\">\n              <ol className=\"TagCategoryList\">\n                {pinned.map(tag => {\n                  return (Category.component({ tag }));\n                })}\n              </ol>\n\n              {cloud.length ? (\n                <div className=\"TagCloud\">\n                  {cloud.map(tag => [\n                    tagLabel(tag, { link: true }),\n                    ' ',\n                  ])}\n                </div>\n              ) : ''}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  config(...args) {\n    super.config(...args);\n\n    if (m.route() != \"/\") {\n      app.setTitle(app.translator.trans('askvortsov-categories.forum.meta.categories_title'));\n    } else {\n      app.setTitle('');\n    }\n    app.setTitleCount(0);\n  }\n}\n","import Component from 'flarum/Component';\n\nimport icon from 'flarum/helpers/icon';\nimport ItemList from 'flarum/utils/ItemList';\nimport sortTags from 'flarum/tags/utils/sortTags';\n\nimport StatWidget from './StatWidget';\nimport LastDiscussionWidget from './LastDiscussionWidget';\n\nexport default class Category extends Component {\n    init() {\n        super.init();\n\n        this.tag = this.props.tag;\n\n        this.isChild = this.props.isChild || false;\n    }\n\n    view() {\n        const tag = this.tag;\n\n        const children = this.isChild ? [] : sortTags(app.store.all('tags').filter(child => child.parent() === tag));\n\n        const cardStyle = this.isChild ? {} : { backgroundColor: tag.color() };\n\n        const classNames = (this.isChild ? ['TagCategory SubCategory'] : ['TagCategory']).join(' ');\n\n        const lastDiscussionClassNames = (tag.lastPostedDiscussion() ? ['TagCategory-lastDiscussion'] : ['TagCategory-lastDiscussion empty']).join(' ');\n\n        return (\n            <li class={classNames}>\n                <a class=\"TagCategory-content\" style={cardStyle} href={app.route.tag(tag)} config={m.route}>\n                    <div class=\"TagCategory-alignStart\">\n                        <span class=\"TagCategory-icon\">\n                            {this.iconItems().toArray()}\n                        </span>\n                        <div class=\"TagCategory-main\">\n                            {this.mainItems().toArray()}\n                        </div>\n                    </div>\n                    <div class=\"TagCategory-alignEnd\">\n                        <div class=\"TagCategory-stats StatWidgetList\">\n                            {this.statItems().toArray()}\n                        </div>\n                        <div class={lastDiscussionClassNames}>\n                            {this.lastDiscussionItems().toArray()}\n                        </div>\n                    </div>\n                </a>\n                {this.isChild ? '' :\n                    <ol className=\"TagCategory-subTagList\">\n                        {children.map(child => [\n                            Category.component({ tag: child, isChild: true })\n                        ])}\n                    </ol>}\n            </li>\n        );\n    }\n\n    iconItems() {\n        const items = new ItemList;\n\n        if (this.tag.icon() && this.isChild) {\n            const style = {};\n            let iconClasses = 'fa-stack-1x CategoryIcon';\n            if (app.forum.attribute('categories.childBareIcon')) {\n                style.color = this.tag.color();\n                iconClasses += ' NoBackgroundCategoryIcon';\n            }\n            items.add('icon',\n                <span class=\"fa-stack fa-2x\">\n                    {app.forum.attribute('categories.childBareIcon') ?\n                        '' : <i class=\"fa fa-circle fa-stack-2x icon-background\" style={{ color: this.tag.color() }}></i>}\n                    {icon(this.tag.icon(), { className: iconClasses, style: style })}\n                </span>, 10);\n        } else if (this.tag.icon() && !app.forum.attribute('categories.parentRemoveIcon')) {\n            items.add('icon',\n                <span class=\"fa-stack fa-3x\">\n                    {icon(this.tag.icon(), { className: 'fa-stack-1x CategoryIcon' })}\n                </span>, 10);\n        }\n\n        return items;\n    }\n\n    mainItems() {\n        const items = new ItemList;\n\n        items.add('name', <h4 class=\"TagCategory-name\">{this.tag.name()}</h4>, 15)\n\n        if (this.tag.description() && (this.isChild || !app.forum.attribute('categories.parentRemoveDescription'))) {\n            items.add('description', <div class=\"TagCategory-description\">{this.tag.description()}</div>, 10)\n        }\n\n        return items;\n    }\n\n    statItems() {\n        const items = new ItemList;\n\n        if (this.isChild || !app.forum.attribute('categories.parentRemoveStats')) {\n            items.add('discussionCount', StatWidget.component({\n                count: this.tag.discussionCount(),\n                label: app.translator.trans('askvortsov-categories.forum.stat-widgets.discussion_label')\n            }), 15)\n\n            items.add('postCount', StatWidget.component({\n                count: this.tag.postCount(),\n                label: app.translator.trans('askvortsov-categories.forum.stat-widgets.post_label')\n            }), 10)\n        }\n\n        return items;\n    }\n\n    lastDiscussionItems() {\n        const items = new ItemList;\n\n        if (this.isChild || !app.forum.attribute('categories.parentRemoveLastDiscussion')) {\n            items.add('lastDiscussion', LastDiscussionWidget.component({\n                discussion: this.tag.lastPostedDiscussion()\n            }), 10);\n        }\n\n        return items;\n    }\n}","import Component from 'flarum/Component';\nimport avatar from 'flarum/helpers/avatar';\nimport username from 'flarum/helpers/username';\nimport humanTime from 'flarum/helpers/humanTime';\nimport { truncate } from 'flarum/utils/string';\nimport ModifiedUserCard from './ModifiedUserCard';\n\nexport default class LastDiscussionWidget extends Component {\n    init() {\n        /**\n         * Whether or not the user hover card is visible.\n         *\n         * @type {Boolean}\n         */\n        this.cardVisible = false;\n    }\n\n    view() {\n        const discussion = this.props.discussion;\n\n\n        if (!discussion) {\n            return (\n                <div class=\"LastDiscussion\">\n                    {app.translator.trans('askvortsov-categories.forum.last_discussion_widget.no_discussions')}\n                </div>\n            );\n        }\n\n        const user = discussion.lastPostedUser();\n\n        let card = '';\n\n        if (user && this.cardVisible) {\n            card = ModifiedUserCard.component({\n                user,\n                className: 'UserCard--popover',\n                controlsButtonClassName: 'Button Button--icon Button--flat',\n            });\n        }\n\n        return (\n            <a class=\"LastDiscussion\" href={app.route.discussion(discussion)} config={this.stopProp}>\n                <a className=\"LastDiscussion-avatar\" href={user ? app.route.user(user) : '#'} config={this.stopProp}>\n                    {avatar(user)}\n                </a>\n                <div class=\"LastDiscussion-content\">\n                    <div class=\"LastDiscussion-bottomRow\">\n                        {humanTime(discussion.lastPostedAt())} |  <a className=\"LastDiscussion-usernameLink\" href={user ? app.route.user(user) : '#'} config={this.stopProp}>{username(user)}</a>\n                    </div>\n                    <div class=\"LastDiscussion-topRow\">\n                        {truncate(discussion.title(), 26)}\n                    </div>\n                </div>\n                <div class=\"LastDiscussion-userCardContainer\">{card}</div>\n            </a>\n        );\n    }\n\n    stopProp(element, isInitialized) {\n        if (isInitialized) return;\n        $(element).on('click', e => e.stopPropagation());\n        m.route.apply(this, arguments);\n    }\n\n    config(isInitialized) {\n        if (isInitialized) return;\n\n        let timeout;\n\n        this.$()\n            .on('mouseover', '.LastDiscussion-avatar, .LastDiscussion-usernameLinkUserCard, .username, .UserCard', () => {\n                clearTimeout(timeout);\n                timeout = setTimeout(this.showCard.bind(this), 300);\n            })\n            .on('mouseout', '.LastDiscussion-avatar, .LastDiscussion-usernameLinkUserCard, .username, .UserCard', () => {\n                clearTimeout(timeout);\n                timeout = setTimeout(this.hideCard.bind(this), 150);\n            });\n    }\n\n    /**\n   * Show the user card.\n   */\n    showCard() {\n        this.cardVisible = true;\n\n        m.redraw();\n\n        setTimeout(() => this.$('.UserCard').addClass('in'));\n    }\n\n    /**\n     * Hide the user card.\n     */\n    hideCard() {\n        $('.UserCard').removeClass('in')\n        this.cardVisible = false;\n        m.redraw();\n    }\n}","import Component from 'flarum/Component';\nimport humanTime from 'flarum/utils/humanTime';\nimport ItemList from 'flarum/utils/ItemList';\nimport UserControls from 'flarum/utils/UserControls';\nimport avatar from 'flarum/helpers/avatar';\nimport username from 'flarum/helpers/username';\nimport icon from 'flarum/helpers/icon';\nimport Dropdown from 'flarum/components/Dropdown';\nimport AvatarEditor from 'flarum/components/AvatarEditor';\nimport listItems from 'flarum/helpers/listItems';\n\n/**\n * The `UserCard` component displays a user's profile card. This is used both on\n * the `UserPage` (in the hero) and in discussions, shown when hovering over a\n * post author.\n *\n * ### Props\n *\n * - `user`\n * - `className`\n * - `editable`\n * - `controlsButtonClassName`\n */\nexport default class ModifiedUserCard extends Component {\n    view() {\n        const user = this.props.user;\n\n        console.log(user.joinTime())\n        console.log(user)\n        const controls = UserControls.controls(user, this).toArray();\n        const color = user.color();\n        const badges = user.badges().toArray();\n\n        return (\n            <div className={'UserCard ' + (this.props.className || '')}\n                style={color ? { backgroundColor: color } : ''}>\n                <div className=\"darkenBackground\">\n\n                    <div className=\"container\">\n                        {controls.length ? Dropdown.component({\n                            children: controls,\n                            className: 'UserCard-controls App-primaryControl',\n                            menuClassName: 'Dropdown-menu--right',\n                            buttonClassName: this.props.controlsButtonClassName,\n                            label: app.translator.trans('core.forum.user_controls.button'),\n                            icon: 'fas fa-ellipsis-v'\n                        }) : ''}\n\n                        <div className=\"UserCard-profile\">\n                            <h2 className=\"UserCard-identity\">\n                                {this.props.editable\n                                    ? [AvatarEditor.component({ user, className: 'UserCard-avatar' }), username(user)]\n                                    : (\n                                        <a href={app.route.user(user)} config={this.stopProp}>\n                                            <div className=\"UserCard-avatar\">{avatar(user)}</div>\n                                            {username(user)}\n                                        </a>\n                                    )}\n                            </h2>\n\n                            {badges.length ? (\n                                <ul className=\"UserCard-badges badges\">\n                                    {listItems(badges)}\n                                </ul>\n                            ) : ''}\n\n                            <ul className=\"UserCard-info\">\n                                {listItems(this.infoItems().toArray())}\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    /**\n     * Build an item list of tidbits of info to show on this user's profile.\n     *\n     * @return {ItemList}\n     */\n    infoItems() {\n        const items = new ItemList();\n        const user = this.props.user;\n        const lastSeenAt = user.lastSeenAt();\n\n        if (lastSeenAt) {\n            const online = user.isOnline();\n\n            items.add('lastSeen', (\n                <span className={'UserCard-lastSeen' + (online ? ' online' : '')}>\n                    {online\n                        ? [icon('fas fa-circle'), ' ', app.translator.trans('core.forum.user.online_text')]\n                        : [icon('far fa-clock'), ' ', humanTime(lastSeenAt)]}\n                </span>\n            ));\n        }\n\n        if (user.joinTime()) {\n            items.add('joined', app.translator.trans('core.forum.user.joined_date_text', { ago: humanTime(user.joinTime()) }));\n        }\n\n        return items;\n    }\n\n    stopProp(element, isInitialized) {\n        if (isInitialized) return;\n        $(element).on('click', e => e.stopPropagation());\n        m.route.apply(this, arguments);\n    }\n}\n","import Component from 'flarum/Component';\n\nexport default class StatWidget extends Component {\n    view() {\n        return (\n            <div class=\"StatWidget\">\n                <div class=\"StatWidget-count\">\n                    {this.props.count}\n                </div>\n                <div class=\"StatWidget-label\">\n                    {this.props.label}\n                </div>\n            </div>\n        );\n    }\n}","import { extend } from 'flarum/extend';\r\nimport IndexPage from 'flarum/components/IndexPage';\r\nimport LinkButton from 'flarum/components/LinkButton';\r\nimport Model from 'flarum/Model';\r\nimport Tag from 'flarum/tags/models/Tag';\r\nimport CategoriesPage from './components/CategoriesPage';\r\n\r\napp.initializers.add('askvortsov/flarum-categories', () => {\r\n  app.routes.categories = { path: '/categories', component: CategoriesPage.component() };\r\n\r\n  Tag.prototype.postCount = Model.attribute('postCount');\r\n\r\n  extend(IndexPage.prototype, 'navItems', function (items) {\r\n    if (items.has('tags') && !app.forum.attribute('categories.keepTagsNav')) {\r\n      items.remove('tags');\r\n    }\r\n    items.add('categories', LinkButton.component({\r\n      icon: 'fas fa-th-list',\r\n      children: app.translator.trans('askvortsov-categories.forum.index.categories_link'),\r\n      href: app.route('categories')\r\n    }), -9.5);\r\n\r\n    if (items.has('moreTags')) {\r\n      items.replace('moreTags', LinkButton.component({\r\n        children: app.translator.trans('flarum-tags.forum.index.more_link'),\r\n        href: app.route('categories')\r\n      }))\r\n    }\r\n\r\n    return items;\r\n  });\r\n});\r\n","module.exports = flarum.core.compat['Component'];","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/AvatarEditor'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['components/LinkButton'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/avatar'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['helpers/icon'];","module.exports = flarum.core.compat['helpers/listItems'];","module.exports = flarum.core.compat['helpers/username'];","module.exports = flarum.core.compat['tags/components/TagsPage'];","module.exports = flarum.core.compat['tags/helpers/tagLabel'];","module.exports = flarum.core.compat['tags/models/Tag'];","module.exports = flarum.core.compat['tags/utils/sortTags'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/UserControls'];","module.exports = flarum.core.compat['utils/humanTime'];","module.exports = flarum.core.compat['utils/string'];"],"sourceRoot":""}